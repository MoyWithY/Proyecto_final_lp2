<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title>CRUD Vehiculos</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<style>
		body {
			margin: 0;
		}
		.container {
			margin: 2%, auto, 2%;
			overflow-x: auto;
			padding-top: 2%;
		}
		table {
			width: 100%;
			max-width: 100%;
		}
		table th, table td {
		    text-align: center;
		    vertical-align: middle;
		}
		.logout-button{
			float: right;
			margin-top: 10px;
			margin-left: 8px;
		}
		.create-button{
			float: right;
			margin-right: 15px;
		}
	</style>
</head>
<body>
	<div class="container">
		<h1>Autoland - Mantenimiento Veh√≠culos
			<a href="/logout" class="btn btn-warning logout-button" th:style="${sesion == 'Admin'} ? 'display: none;' : ''">Cerrar sesi√≥n</a>
			<a href="/homeAdmin" class="btn btn-outline-warning logout-button" th:style="${sesion != 'Admin'} ? 'display: none;' : ''">üè†Ô∏é  </a>
			<a href="/VehiculoReport" class="btn btn-warning logout-button" th:style="${sesion != 'Admin'} ? 'display: none;' : ''">Descargar</a>
		</h1>
		<br>
		<div class="d-flex justify-content-between">
			<a href="/updInsVehiculo" class="btn btn-primary create-button">Nuevo</a>
			<input class="form-control" id="myInput" type="text" placeholder="Buscar...">
		</div>
		<br>
		<table id="itemsTable" class="table table-bordered table-hover">
			<thead>
				<tr>
					<th>N√∫mero de matr√≠cula</th>
					<th>Marca</th>
					<th>Modelo</th>
					<th>A√±o de fabricaci√≥n</th>
					<th>Fecha de compra</th>
					<th></th>
				</tr>
			</thead>
			<tbody id="myTable">
				<th:block th:each="a: ${ltsAuto}">
					<tr>
						<td th:text ="${a.nummatricula}"></td>
						<td th:text ="${a.marca}"></td>
						<td th:text ="${a.modelo}"></td>
						<td th:text ="${a.aniofabricacion}"></td>
						<td th:text ="${a.fechcompra}"></td>
						<td>
							<a th:href="@{/updInsVehiculo/}+${a.idvehiculo}" class="btn btn-secondary">‚Üª</a>	|
							<a th:href="@{/deleteVehiculo/}+${a.idvehiculo}" class="btn btn-danger">X</a>	
						</td>
					</tr>
				</th:block>
			</tbody>
		</table>
	</div>
<script>
	$(document).ready(function(){
	  $("#myInput").on("keyup", function() {
	    var value = $(this).val().toLowerCase();
	    $("#myTable tr").filter(function() {
	      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
	    });
	  });
	});
</script>
</body>
</html>